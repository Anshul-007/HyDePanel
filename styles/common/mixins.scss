@use "variables.scss";

@mixin no-style() {
  outline: none;
  border: none;
  box-shadow: none;
}

@mixin hidden {
  background-color: transparent;
  background-image: none;
  border-color: transparent;
  box-shadow: none;
  -gtk-icon-transform: scale(0);

  * {
    background-color: transparent;
    background-image: none;
    border-color: transparent;
    box-shadow: none;
    -gtk-icon-transform: scale(0);
  }
}

@mixin floating-widget {
  box-shadow: 0 0 5px 0 variables.$shadow-color;
  margin: 8px;
  border: variables.$border-width solid variables.$border-color;
  background-color: variables.$background-dark;
  color: variables.$text-main;
  border-radius: variables.$border-radius;
  padding: .5em;
}



@mixin slider($width: 0.7em, $slider-width: .5em, $gradient: $active-gradient, $slider: true, $focusable: true, $radius: variables.$border-radius) {
  @include no-style();

  trough {
    transition: $transition;
    border-radius: $radius;
    border: $border;
    background-color: variables.$background-alt;
    min-height: $width;
    min-width: $width;

    highlight,
    progress {
      border-radius: max($radius - variables.$border-width, 0);
      background-image: $gradient;
      min-height: $width;
      min-width: $width;
    }
  }

  slider {
    box-shadow: none;
    background-color: transparent;
    border: variables.$border-width solid transparent;
    transition: $transition;
    border-radius: $radius;
    min-height: $width;
    min-width: $width;
    margin: -$slider-width;
  }

  &:hover {
    trough {
      background-color: variables.$background;
    }

    slider {
      @if $slider {
        background-color: variables.$text-main;
        border-color: variables.$border-color;

        @if $shadows {
          box-shadow: 0 0 3px 0 variables.$shadow-color;
        }
      }
    }
  }

  &:disabled {

    highlight,
    progress {
      background-color: transparentize($fg, 0.4);
      background-image: none;
    }
  }

  @if $focusable {
    trough:focus {
      background-color: $hover-bg;
      box-shadow: inset 0 0 0 $border-width $primary-bg;

      slider {
        @if $slider {
          background-color: $fg;
          box-shadow: inset 0 0 0 $border-width $primary-bg;
        }
      }
    }

  }
}